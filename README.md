<body><article id="7bd90ddd-ecf4-4ecc-b564-980d00a7d686" class="page sans"><header><h1 class="page-title">Documentation API</h1><p class="page-description"></p></header><div class="page-body"><p id="643132c3-9e9c-487f-a9fa-c298a616346d" class="">
</p><h2 id="bf92f553-d043-4176-a5e9-de4d00e07202" class="">Table des matières</h2><ul id="69a7dc75-fdd4-44d0-a2fb-3c73734407f6" class="bulleted-list"><li style="list-style-type:disc"><a href="notion://www.notion.so/Documentation-API-7bd90dddecf44eccb564980d00a7d686#introduction">Introduction</a></li></ul><ul id="3853fb94-8522-46ff-8cbf-f484e3217b5c" class="bulleted-list"><li style="list-style-type:disc"><a href="notion://www.notion.so/Documentation-API-7bd90dddecf44eccb564980d00a7d686#pr%C3%A9requis">Prérequis</a><ul id="abbb9f8a-4b00-49ce-bb72-ffe95ab91b56" class="bulleted-list"><li style="list-style-type:circle"><a href="notion://www.notion.so/Documentation-API-7bd90dddecf44eccb564980d00a7d686#t%C3%A9l%C3%A9chargement-du-code-source">Téléchargement du code source</a></li></ul><ul id="b10c5ada-ee95-4600-a85a-da11c0013dcb" class="bulleted-list"><li style="list-style-type:circle"><a href="notion://www.notion.so/Documentation-API-7bd90dddecf44eccb564980d00a7d686#configuration-de-lenvironnement">Configuration de l’environnement</a></li></ul><ul id="0ffad38d-933a-41e6-b129-bb77eaac653c" class="bulleted-list"><li style="list-style-type:circle"><a href="notion://www.notion.so/Documentation-API-7bd90dddecf44eccb564980d00a7d686#installation-de-la-base-de-donn%C3%A9es">Installation de la base de données</a></li></ul><ul id="9ec10270-f18b-4d45-aa78-0388c7c6855a" class="bulleted-list"><li style="list-style-type:circle"><a href="notion://www.notion.so/Documentation-API-7bd90dddecf44eccb564980d00a7d686#remplir-les-informations-concernant-votre-base-de-donn%C3%A9es">Remplir les informations concernant votre base de données</a></li></ul><ul id="e73f2f1e-5440-4c02-89a8-4017f86483f8" class="bulleted-list"><li style="list-style-type:circle"><a href="notion://www.notion.so/Documentation-API-7bd90dddecf44eccb564980d00a7d686#remplir-les-informations-concernant-les-cl%C3%A9s-des-services-api">Remplir les informations concernant les clés des services API</a></li></ul><ul id="8930c073-abe6-4396-932a-d5661651ae4d" class="bulleted-list"><li style="list-style-type:circle"><a href="notion://www.notion.so/Documentation-API-7bd90dddecf44eccb564980d00a7d686#remplir-votre-cl%C3%A9-de-secret-de-token">Remplir votre clé de secret de token</a></li></ul><ul id="3f44f429-b14a-4b73-adb9-e72eeb516cb2" class="bulleted-list"><li style="list-style-type:circle"><a href="notion://www.notion.so/Documentation-API-7bd90dddecf44eccb564980d00a7d686#installer-les-d%C3%A9pendances-du-projet">Installer les dépendances du projet</a></li></ul><ul id="97a8fb33-eeea-4d60-b7a2-e782a25aee7a" class="bulleted-list"><li style="list-style-type:circle"><a href="notion://www.notion.so/Documentation-API-7bd90dddecf44eccb564980d00a7d686#lancement-du-serveur">Lancement du serveur</a></li></ul></li></ul><ul id="3d5f16c9-b2bb-4d30-bfee-733eb19289ea" class="bulleted-list"><li style="list-style-type:disc"><a href="notion://www.notion.so/Documentation-API-7bd90dddecf44eccb564980d00a7d686#configuration-de-postman">Configuration de Postman</a></li></ul><ul id="c5488573-0a49-4ff0-9f85-87e5576f2b07" class="bulleted-list"><li style="list-style-type:disc"><a href="notion://www.notion.so/Documentation-API-7bd90dddecf44eccb564980d00a7d686#tester">Tester</a></li></ul><h2 id="c89482c2-2f33-4ac1-b09b-6efa29a8a8d0" class="">Introduction</h2><p id="d7e3045a-897b-4d71-afd4-77357e320ddb" class="">Bienvenue dans la documentation de l&#x27;API Laravel. Cette API a été développée par Hugo Clément en PHP utilisant le Framework Laravel.</p><h2 id="bb1dc1b9-b3f7-483d-828e-b4a83623df60" class="">Prérequis</h2><p id="d02c57f8-9b96-4c2b-9568-2d7ebeb53049" class="">Avant de commencer à utiliser l&#x27;API, assurez-vous d&#x27;avoir les éléments suivants :</p><ul id="1c284bff-4fdd-458c-941b-09df4633b793" class="bulleted-list"><li style="list-style-type:disc">PHP (CLI) - 8.2.0</li></ul><ul id="033d4ae1-2d2b-4248-8676-957e76eeecf0" class="bulleted-list"><li style="list-style-type:disc">Composer - 2.6.4</li></ul><ul id="8180e88f-983a-477d-9dd6-8b89b5b3b2e9" class="bulleted-list"><li style="list-style-type:disc">Laravel Framwork - 10.28.0</li></ul><ul id="cbd870b3-d477-4f98-b517-5ebc212389e8" class="bulleted-list"><li style="list-style-type:disc">phpMyAdmin - 5.2</li></ul><ul id="c6ddd909-d7ab-47e8-adb0-35d5dbc40049" class="bulleted-list"><li style="list-style-type:disc">MySQL - 8.0.31</li></ul><ul id="23c128c1-4094-46b9-abc2-9d97711648bc" class="bulleted-list"><li style="list-style-type:disc">Postman 10.20.0</li></ul><h2 id="f3f3aeea-4e45-498a-8bf5-6f14adea0813" class="">Installation</h2><p id="00e13d11-c777-41bb-9f27-4b60e2446736" class="">Pour installer l&#x27;API, suivez les étapes suivantes :</p><h3 id="c495130f-2957-4e24-abca-ff120356bbb5" class="">Téléchargement du code source</h3><p id="d922eb8e-2b75-4275-89a0-23c71f9afbbd" class="">Clonez le dépôt depuis GitHub</p><pre id="07d794e8-422b-4b8e-bfe2-b6babe48f396" class="code code-wrap"><code>git clone https://github.com/HugoClemt/api-openai
cd api-openai</code></pre><h3 id="9a0cee8a-7813-46f6-b722-e7cd052511e1" class="">Configuration de l’environnement</h3><p id="3f0cc4be-db30-40b1-a5ba-0d432447940f" class="">Copiez le fichier d’environnement et configurez les paramètres nécessaires</p><pre id="c422e9e4-8e7b-472e-aadb-c1e52de58001" class="code"><code>cp .env.example .env</code></pre><p id="1a5cd142-2f9d-4670-a952-1ab110e0d925" class="">
</p><p id="d087d9ce-d007-47a7-bf7a-ad0650b1c15f" class="">Générer votre clé d’application Laravel</p><pre id="42352a90-a172-4348-bc39-8b46d6f5f283" class="code"><code>php artisan key:generate</code></pre><p id="f2a0c411-cc3d-43fa-a02a-6aeffc23bce2" class="">Cette commande permet aussi de régénérer une nouvelle clé Laravel</p><p id="6f14e0a1-c45c-42e9-aa25-d723e768bbf3" class="">
</p><p id="d965f9f1-cd02-4fcb-8d5b-bcb9fd54a67e" class="">Installer la base de données dans votre MySQL<div class="indented"><p id="13e9dee8-3406-474d-80e4-133b1fb8a0a3" class="">Pour cela, il vous suffit de télécharger le fichier “api_openai.sql”</p><figure id="a0212629-86f6-42f5-b632-d40448d740bd"><div class="block-color-gray_background source"><a href="api_openai.sql">api_openai.sql</a></div></figure><p id="619848c3-e1b0-49b4-a303-808aa84f7aca" class="">
</p><p id="20cbaf8e-0d8f-4521-aa14-485f7375679d" class="">Dans MySQL, il faut créet une base de données, soit avec l’interface graphique soit en ligne de commande</p><pre id="77b6cc10-f0cf-42e3-ba6f-af3298a1d61e" class="code"><code>CREATE DATABASE api_openai;</code></pre><p id="b742f95c-8350-47a6-b7da-4bc45603a8f6" class="">
</p><p id="e76fb6f6-60c7-4fea-a6ca-3c6460120a85" class="">Et importer le fichier, soit avec l’interface graphique soit en ligne de commande</p><pre id="175abfe4-dbbd-4614-a7a0-ea1f00d4a40b" class="code"><code>mysql -u root -p api_openai &lt; chemin/vers/le_fichier.sql</code></pre><p id="7fa3ff21-2c2e-4ac9-9085-bab4cecf97d2" class="">Assurez-vous de remplacer “chemin/vers/le_fichier.sql” par le chemin et le nom du fichier de la base de données</p><p id="d1788789-4d74-4142-a3a3-733d07479cb3" class="">
</p></div></p><p id="aa698736-aed2-460b-9edb-f49aa8107204" class="">Remplir les informations concernant votre base de données dans votre .env</p><pre id="d420d351-34f4-40b9-aef9-a7109be3ced6" class="code"><code>DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=your_database_name
DB_USERNAME=your_database_user
DB_PASSWORD=your_database_password</code></pre><p id="7a730ea1-9709-4ea2-a4b0-0fb1bbf7e61f" class="">Assurez-vous de bien remplacer “your_database_name” par le nom de votre base de données que vous avez créer précédemment ainsi que “your_database_user” et “your_database_password” par les information du compte MySQL</p><p id="9f73a548-30a5-491e-b435-3c26bab06a6e" class="">
</p><p id="b76248f4-5867-4f5f-8437-988e50a4fb25" class="">Remplir les informations concernant les key des service API utiliser, notamment OpenAi et Stable DIffusion dans votre .env</p><pre id="3a99dc56-bd41-4510-9e44-c804362f7a70" class="code"><code>OPENAI_API_KEY=your_key_api_open_ai
STABLE_API_KEY=your_key_api_stable_diffusion</code></pre><p id="69ad7575-8160-4f12-b2a7-8cebd75159c1" class="">La clé API d’OpenAi, vous pouvez la récupérer sur votre compte OpenAi en accédant à la page API</p><p id="c9b9ba54-a1bb-4c26-82ba-0884234fc9f1" class="">La clé API de Stable Dffusion, vous pouvez la récupérer sur votre compte Clipdrop en accédant à la page API</p><p id="6944e2de-37f0-4441-b83a-82cf7b83d60f" class="">
</p><p id="72db1290-09d4-4d78-bd97-d29149eabb93" class="">Remplir votre clé de secret de token</p><pre id="c71b62c5-f990-4647-8321-c013aa901048" class="code"><code>SECRET_KEY_TOKEN=</code></pre><p id="10b87d31-c2e0-404e-ac2c-c4e6e845108c" class="">
</p><p id="664b998c-a9c5-4d23-8074-d76a1560cf80" class="">Installer les dépendances du projet</p><pre id="9e922821-74e1-46b3-b0be-ed5170a8c71a" class="code"><code>composer install</code></pre><p id="a105fc46-0ade-4ebc-9e8f-fa789ed783ed" class="">
</p><p id="cf13a860-a1b9-4fbf-ad09-ae42a4e8267a" class="">Lancement du serveur</p><pre id="7b726829-515c-4a36-94c9-d5913c6b0cdd" class="code"><code>php artisan serve</code></pre><p id="a77084d3-f0bf-4c6b-9315-73d9d4f1555d" class="">
</p><p id="f996910e-c2d9-462d-819c-098618d0e7b4" class="">Une fois cette l’environnement configurer, l’API sera accessible a cette adresse </p><p id="3eac4cd2-9b4d-4836-9592-1cf7f9b1c2e7" class=""><a href="http://localhost:8000">http://localhost:8000</a></p><p id="09c10486-73a0-413a-b92a-da51e3b3c1f2" class="">
</p><h2 id="92916420-42a2-4c19-b8d3-a698f48fed4a" class="">Configuration de Postman</h2><p id="f64da3bc-4ff1-4aeb-8817-3847eaae32f1" class="">Pour effectuer les requête avec l’API, vous aurez besoin de configurer Postman</p><p id="d10a2079-55d9-4d88-8cd2-78b8034a8565" class="">
</p><p id="86a25dda-2fca-477d-9654-27a0c3bdb8e6" class="">Télécharger le fichier API OpenAi.postman_collection.json</p><figure id="650b1323-8c57-470f-87c4-ab7fabc2a0c1"><div class="block-color-gray_background source"><a href="Documentation%20API%207bd90dddecf44eccb564980d00a7d686/API_OpenAI.postman_collection.json">API OpenAI.postman_collection.json</a></div></figure><p id="b52476ad-de4f-4474-ba00-133b438fd5c3" class="">
</p><p id="1a538842-bd34-47b9-bcbf-69bba2a68f83" class="">Sur l’interface graphique Postman, cliquer sur “Import” et sélectionner le fichier précédemment télécharger</p><p id="c699861c-ff7f-4f07-98b2-5080961b1f03" class="">
</p><p id="38a01aca-ae02-4d86-8242-0df8f0e8a036" class="">Une fois l’environnement ainsi que Postman et la base de données configurer, vous êtes prêt a utiliser l’API</p><h2 id="1c4d225d-9729-4f13-8fe5-c55e9cc5c972" class="">Tester</h2><p id="d141b731-5218-4a17-b29b-f35bbe47e55b" class="">Pour tester l’API, ouvrez phpMyAdmin, Postman, le serveur php</p><p id="c6cf6732-1e38-4671-ab4e-a09d6e57ec23" class="">
</p><p id="3830fcb1-a781-445f-a05c-459b3dbdf4b3" class="">Tout d’abord fait une requête Token pour avoir un token d’utilisateur.</p><pre id="13f98316-082c-4312-88b5-2a4812206a22" class="code"><code>{
    &quot;login&quot;: &quot;your_identifiant&quot;,
    &quot;password&quot;: &quot;your_password&quot;
}</code></pre><p id="fc14005c-8f6c-47a8-9e85-5ad4e79ba08b" class="">Assurez-vous de bien changer “your_identifient” et “your_password” par vos informations</p><p id="47b29dcd-a14b-45a0-a0a7-88a52b91f07d" class="">Cela est a renseigner dans la parti body de Postman en raw “JSON</p><p id="b32abdb5-fe60-47fb-8edc-416ced7492e7" class="">
</p><p id="2397f914-61c1-4eaf-b790-1b3d68845f56" class="">Une fois votre requête terminé, un token vous sera transmit, vous devez le garder et le renseigner dans la partie Header de postman en rajoutant un champs Authorization avec votre token comme valeur.</p><p id="4f4e2a51-f570-408c-af95-01eadef59343" class="">
</p><p id="f9cb054e-676b-4479-a46a-a4fe10bef3a3" class="">Par la suite, vous pouvez faire les requêtes dans les différent dossier Postman “User”, “Universe” et “Conversation”</p><p id="ee6ceed5-021d-4c24-8900-1ee10bd91350" class="">
</p><p id="f055eff1-772b-4bde-ad7e-bffd959f78f2" class="">
</p><p id="1118cbe3-14b2-42f1-b5a1-1f66ff390d37" class="">
</p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>
